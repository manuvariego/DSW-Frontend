@if (currentSection == 'initial') {
  <div class="container">
    <label for="boton">Obtener todos los usuarios de CocherasUTN</label>
    <button type="button" id="boton" class="btn btn-primary" (click)="showSection('getUser')">Get</button>
  </div>
 }


@if (currentSection == 'initial') {
  <div class="container">
    <label for="boton">Crear usuario</label>
    <button type="button" id="boton" class="btn btn-primary" (click)="showSection('createUser')">Get</button>
  </div>
}


@if (currentSection == 'getUser') {
  <table class="table">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Lastname</th>
        <th scope="col">Dni</th>
        <th scope="col">Address</th>
        <th scope="col">Email</th>
        <th scope="col">Telephone</th>
        <th scope="col">Vehicles</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of userList; let i = index">
        <th scope="row">{{i + 1}}</th>
        <td>{{user.name}}</td>
        <td>{{user.lastname}}</td>
        <td>{{user.dni}}</td>
        <td>{{user.address}}</td>
        <td>{{user.email}}</td>
        <td>{{user.phone_number}}</td>
        <td>
          <ul>
            <li *ngFor="let vehicle of user.vehicles">
              {{vehicle.license_plate}}
            </li>
          </ul>
        </td>
        <td>
          <button type="button" id="boton" class="btn btn-danger" (click)="deleteUser(user.id)">Eliminar</button>
          <button type="button" id="boton" class="btn btn-secondary" (click)="modificarUsuario(user)">Modificar</button>
        </td>
      </tr>
    </tbody>
  </table>
  <br>
  <br>
  <button type="button" id="boton" class="btn btn-primary" (click)="showSection('initial')">Volver</button>
}

@if (currentSection == 'createUser') {
  <form (ngSubmit)="createUserr()" #userForm="ngForm">
  <div class="input-group mb-3">
    <input type="text" class="form-control" id="name" name="name" [(ngModel)]="userData.name" required placeholder="Name" aria-label="Name" aria-describedby="basic-addon1">
  </div>
  
  <div class="input-group mb-3">
    <input type="text" class="form-control"  id="lastname" name="lastname" [(ngModel)]="userData.lastname" required placeholder="Last Name" aria-label="Last Name" aria-describedby="basic-addon2">
  </div>

  <div class="input-group mb-3">
    <input type="text" class="form-control" id="dni"  name="dni" [(ngModel)]="userData.dni" required placeholder="DNI" aria-label="DNI" aria-describedby="basic-addon2">
  </div>

  <div class="input-group mb-3">
    <input type="text" class="form-control" id="address" name="address"  [(ngModel)]="userData.address" required  placeholder="address" aria-label="address" aria-describedby="basic-addon2">
  </div>

  <div class="input-group mb-3">
    <input type="text" class="form-control" id="email" name="email"  [(ngModel)]="userData.email" required placeholder="email" aria-label="email" aria-describedby="basic-addon2">
  </div>

  <div class="input-group mb-3">
    <input type="text" class="form-control" id="phoneNumber" name="phoneNumber"  [(ngModel)]="userData.phone_number" required placeholder="Phone Number" aria-label="phone number" aria-describedby="basic-addon2">
  </div>

  <div class="input-group mb-3">
    <input type="text" class="form-control" id="vehicles" name="vehicles"  [(ngModel)]="userData.vehicles" required placeholder="Patente vehiculo (este va a tener q cambiarse)" aria-label="vehicles" aria-describedby="basic-addon2">
  </div>
  <br>
  <br>
  <button type="submit" class="btn btn-primary" (click)="showSection('initial')">Enviar</button>
</form>
  <br>
  <br>
  <button type="button" id="boton" class="btn btn-secondary" (click)="showSection('initial')">Volver</button>

}

@if(currentSection == 'editUser'){
<!-- Formulario de ediciÃ³n de usuario -->
<div>
  <h2>Modificar Usuario</h2>
  <form (ngSubmit)="updateUser()">
    <label for="name">Name:</label>
    <input type="text" id="name" [(ngModel)]="editingUser.name" name="name">
    
    <label for="lastname">Lastname:</label>
    <input type="text" id="lastname" [(ngModel)]="editingUser.lastname" name="lastname">
    
    <button type="submit" class="btn btn-primary" (click)="showSection('initial')" >Guardar cambios</button>
  </form>
</div>
}