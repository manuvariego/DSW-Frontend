<nav class="navbar bg-body-tertiary">
  <div class="container-fluid">

    <a class="navbar-brand"
       routerLink=""
       (click)="onOption('home')">
      ParkEasy
    </a>

    
    <div class="d-flex align-items-center gap-2">

      <!-- botones de registrar e ingresar -->
      <a class="btn btn-navbar-outline"
         *ngIf="!authService.isLoggedIn()"
         routerLink="register"
         (click)="onOption('register')">
        Registrarse
      </a>

      <a class="btn btn-navbar-dark"
         *ngIf="!authService.isLoggedIn()"
         routerLink="login"
         (click)="onOption('login')">
        Ingresar
      </a>

      <!-- Saludo al usuario -->
    <span *ngIf="authService.isLoggedIn()" class="navbar-text me-2 fw-semibold">
      Hola, {{ authService.getUserName() }}
    </span>


      <!-- BOTÓN HAMBURGUESA (solo si está logueado) -->
      <button class="navbar-toggler"
              *ngIf="authService.isLoggedIn()"
              type="button"
              data-bs-toggle="offcanvas"
              data-bs-target="#offcanvasNavbar">
        <span class="navbar-toggler-icon"></span>
      </button>
    </div>

    <!-- MENÚ LATERAL -->
    <div class="offcanvas offcanvas-end"
         tabindex="-1"
         id="offcanvasNavbar">

      <div class="offcanvas-header">
        <h5 class="offcanvas-title">Menú</h5>
        <button type="button"
                class="btn-close"
                data-bs-dismiss="offcanvas"></button>
      </div>

      <div class="offcanvas-body">
        <ul class="navbar-nav">

          <!-- ===== MENÚ USUARIO ===== -->
          <ng-container *ngIf="authService.isUser()">

            <li class="nav-item">
              <a class="nav-link" routerLink="vehicles" data-bs-dismiss="offcanvas">
                Mis Vehículos
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" routerLink="reservation" data-bs-dismiss="offcanvas">
                Mis Reservas
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" routerLink="garages" data-bs-dismiss="offcanvas">
                Cocheras
              </a>
            </li>


          </ng-container>

          <!-- ===== MENÚ COCHERA (GARAGE) ===== -->
          <ng-container *ngIf="authService.isGarage()">

            <li class="nav-item">
              <a class="nav-link" routerLink="garages" data-bs-dismiss="offcanvas">
                Mi Cochera
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" routerLink="parkingSpace" data-bs-dismiss="offcanvas">
                Espacios de Estacionamiento
              </a>
            </li>


            <li class="nav-item">
              <a class="nav-link" routerLink="reservationTypes" data-bs-dismiss="offcanvas">
                Precios por Estadía
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" routerLink="reservation" data-bs-dismiss="offcanvas">
                Reservas
              </a>
            </li>
            
          </ng-container>

          <!-- CERRAR SESIÓN -->
          <li class="nav-item mt-3">
            <button class="btn btn-outline-danger w-100"
                    (click)="logout()"
                    data-bs-dismiss="offcanvas">
              Cerrar sesión
            </button>
          </li>

        </ul>
      </div>
    </div>
  </div>
</nav>



<router-outlet></router-outlet>
